https://blog.csdn.net/weixin_34025151/article/details/91997876

Linux 通过USB使用手机网络

我的计算机无线网卡是BCM4360，CentOS-7.4-x86_64无法安装驱动，重新编译内核也无法安装其驱动，无线网卡无法使用，正在尝试 wl 模块，还没成功。现在只有RJ-45网口可用，但是酒店没有网线接口，怎么办？好友提示，可以用USB线连接手机和电脑，然后手机用USB共享网络，这样就可以上网了。好办法！

环境：CentOS-7.4-x86_64 kernel 3.10  华为手机 Android 7.0

手机设置：移动网络共享->USB 共享网络

主机设置：1. 查看必须的模块 rndis_host  cdc_ether  usbnet

                # lsmod  查看具体的模块

            2. 查看有没有将连接手机的 USB 接口识别为网络接口

                # ip addr show

               在我的计算机中显示多了一个 enp0s20u2 接口，有状态信息、MAC地址等，但没有 IP 地址等信息，于是判断该接口为USB模拟的网口，但没有 IP 地址。

            3. 给该接口设置 IP 地址

                # dhclient enp0s20u2

                # ip addr show

                此时，接口有了 IP 地址 192.168.42.17

            4. ping 手机的 USB 接口 IP 地址（该地址是手机上安装了terminal软件查看到的）

                 # ping 192.168.42.129

                 # ping www.baidu.com

                第一个应该都通，第二个只有手机联网了（WLAN 或 4G 都行）才通。

注意：我第一次是手动设置 USB 接口的 IP 地址，结果，只能和手机相互 ping 通，不能 ping 通外网，当时还以为手机这项功能实现的不完备，不能做NAT转换，继而给电脑联网呢。后来，在网上看到有人用dhcp的方式获取 IP 地址，就可以上网，我也用该方式试了试，也成功了。

疑问：但为什么不能用手动设置的 IP 地址上网，仍然是一个疑问，欢迎知道该问题的朋友给出答案。

转载于:https://my.oschina.net/u/260165/blog/1595629
